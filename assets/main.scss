---
---

@mixin respond-to($media) {
  @if $media == desktop {
    @media (min-width: 1920px) and (orientation: landscape) {
      @content;
    }
  }
  @else if $media == mobile {
    @media (max-width: 1024px) and (orientation: portrait) {
      @content;
    }
  }
  @else if $media == tablet {
    @media (min-width: 1024px) and (max-width: 1920px) {
      @content;
    }
  }
}

$desktop-content-width: 70%;
$default-content-width: 80%;
$tablet-content-width: 80%;
$mobile-content-width: 90%;

$desktop-font-size: 4.9mm;
$default-font-size: 4.3mm;

$primary-color: #216778;
$gray-color: #3a3a3a;
$note-color: $primary-color;
$default-opacity: 0.1;
$warning-color: $gray-color;
$border-radius: 0.6em;
$base-margin: 1.2em;
$double-margin: $base-margin * 2;
$half-margin: $base-margin / 2;


@import "{{ site.theme }}";

html {
  font-size: $default-font-size;

  @include respond-to(desktop) {
    font-size: $desktop-font-size;
  }
}

.wrapper {
  max-width: $default-content-width;

  @include respond-to(desktop) {
    max-width: $desktop-content-width;
  }
  
  @include respond-to(tablet) {
    max-width: $tablet-content-width;
  }
  
  @include respond-to(mobile) {
    max-width: $mobile-content-width;
  }
}

body {
  font-size: 1rem;
}

.note {
    display: flex;
    flex-direction: column;
    padding: 10px;
    position: relative;
    color: $note-color;
    background-color: rgba($color: $note-color, $alpha: $default-opacity);
    width: 100%;
    border-radius: $border-radius;
    margin-bottom: $base-margin;
  
    &::before {
      content: '';
      display: block;
      width: $border-radius;
      background-color: $note-color;
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      border-top-left-radius: $border-radius;
      border-bottom-left-radius: $border-radius;
    }
  
    // "Note" header
    .note-header {
      font-weight: bold;
      color: $note-color;
      margin-bottom: 2mm;
      margin-left: $base-margin;
    }
  
    // Inner content
    .note-content {
      margin-left: $base-margin;
      margin-right: $half-margin;
    }
  }

  .warning {
    color: $warning-color;  
    background-color: rgba($color: $warning-color, $alpha: $default-opacity);
    
      &::before {
        background-color: $warning-color;
      }
    
      // "Warning" header
      .note-header {
        color: $warning-color;
      }
    }

    :is(h1, h2, h3, h4, h5, h6) {
      font-weight: bold;
      color: $primary-color;
      position: relative;
    }

    h1 {
      margin-bottom: $base-margin;
      @include respond-to(mobile) {
        font-size: 1.5em;
      }
    }

    h2 {
      @include respond-to(mobile) {
        font-size: 1.25em;
      }
    }

    h2:not(.footer-heading) {
      margin-left: $base-margin;
      margin-top: $double-margin;
      margin-bottom: $base-margin;
      &::before {
        content: '';
        width: $border-radius;
        background-color: $primary-color;
        position: absolute;
        left: - $base-margin;
        top: 0;
        bottom: 0;
        border-top-left-radius: $border-radius;
        border-bottom-left-radius: $border-radius;
      }
    }

    h3 {
      margin-top: $base-margin;
      margin-bottom: $half-margin;
      
      @include respond-to(mobile) {
        font-size: 1.12em;
      }
    }

    .tags {
      display: flex;
    }

    .tags ul {
      list-style-type: none;
      font-style: italic;
      padding: 0;
      margin: 0;
      display: flex;
      flex-wrap: wrap;
    }
    
    .tags ul li {
      margin-left: $half-margin;
    }

    a {
      font-weight: bold;
      color: $primary-color;
    }

    a:is(.post-link, .page-link, .site-title) {
      font-weight: bold;
      color: $primary-color;
    }

    a:visited {
        color: $gray-color;
    }

    .p-name {
      color: $gray-color;
    }

    .footer-col p {
      color: $gray-color;
    }

    svg.plantuml {
      display: block;
      max-width: 100%;
      height: auto;
      margin-left: auto;
      margin-right: auto;
    }

    .page-content {
      text-align: justify;
      text-align-last: left;
    }

    .post-meta {
      color: $gray-color;
      font-style: oblique;
    }

    li.post-listing:nth-child(2n - 1) {
      background-color: rgba($color: $primary-color, $alpha: $default-opacity);
    }

    li.post-listing:nth-child(2n) {
      background-color: rgba($color: $gray-color, $alpha: $default-opacity);
    }

    li.post-listing {
      padding: $base-margin $border-radius;
      border-radius: $border-radius;
      margin: 0.5em 0;
    }

    li.post-listing h3 {
      margin-top: 0;
    }

    .post-excerpt p {
      margin: 0.5em 0;
      font-style: italic;
      display: inline;

      &::after {
        content: ' [...]';
        display: inline;
      }
    }

    :is(.post-excerpt, .tags) span {
      font-weight: bold;
      color: $primary-color;
    }

    li.post-listing:nth-child(2n) :is(.post-excerpt, .tags) span {
      color: $gray-color;
    }
    
    .search-bar {
      display: flex;
      align-items: center;
      max-width: 100%;
      flex-grow: 1;
      width: auto;
      height: 100%;
      margin: $half-margin $double-margin;
    }
    
    .search-bar form {
      display: inline-flex;
      align-items: center;
      flex-grow: 1;
      width: auto;
      height: 100%;
    }

    .search-box {
      background-color: rgba($color: $primary-color, $alpha: $default-opacity);
      border-color: $primary-color;
      border-radius: $border-radius;
      border-width: 0.75mm;
      border-style: solid;
      padding: 0.5em;
      font-size: 1.12em;
      color: $gray-color;
      margin-right: 0.5em;
      width: 100%;
      &::placeholder {
        color: $primary-color;
        font-style: italic;
      }
    } 

    .search-button {
      display: inline-flex;
      background-color: transparent;
      border-style: none;
      align-items: center;
      height: 100%;
      padding: 0;
      cursor: pointer;
    }

    .search-icon {
      height: 3em;
    }

    .site-header .wrapper {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .site-title {
      font-size: 1.5em;
      
      @include respond-to(mobile) {
        font-size: 1.25em;
      }
    }